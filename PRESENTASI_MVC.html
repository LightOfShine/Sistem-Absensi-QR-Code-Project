<!DOCTYPE html>
<html lang="id">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Alur Sistem E-Absensi Siswa - MVC Architecture</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }
        
        body {
            font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
            line-height: 1.6;
            color: #333;
            background: #f5f5f5;
        }
        
        .page {
            background: white;
            width: 21cm;
            height: 29.7cm;
            margin: 20px auto;
            padding: 40px;
            box-shadow: 0 0 10px rgba(0,0,0,0.1);
            page-break-after: always;
        }
        
        .page-break {
            page-break-after: always;
            margin: 0;
            padding: 0;
        }
        
        h1 {
            color: #6c3aed;
            font-size: 2.5em;
            margin-bottom: 20px;
            border-bottom: 3px solid #6c3aed;
            padding-bottom: 15px;
        }
        
        h2 {
            color: #6c3aed;
            font-size: 1.8em;
            margin-top: 30px;
            margin-bottom: 15px;
            border-left: 4px solid #6c3aed;
            padding-left: 15px;
        }
        
        h3 {
            color: #4f46e5;
            font-size: 1.4em;
            margin-top: 20px;
            margin-bottom: 10px;
        }
        
        p {
            margin-bottom: 12px;
            text-align: justify;
        }
        
        .highlight {
            background-color: #f0f4ff;
            border-left: 4px solid #6c3aed;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .diagram {
            background: #f9f9f9;
            border: 2px solid #6c3aed;
            padding: 20px;
            margin: 20px 0;
            border-radius: 8px;
            text-align: center;
            font-family: 'Courier New', monospace;
            line-height: 1.8;
            overflow-x: auto;
        }
        
        .code-block {
            background: #2d2d2d;
            color: #f8f8f2;
            padding: 15px;
            border-radius: 6px;
            overflow-x: auto;
            margin: 15px 0;
            font-family: 'Courier New', monospace;
            font-size: 0.9em;
            line-height: 1.4;
        }
        
        table {
            width: 100%;
            border-collapse: collapse;
            margin: 15px 0;
        }
        
        th, td {
            border: 1px solid #ddd;
            padding: 12px;
            text-align: left;
        }
        
        th {
            background-color: #6c3aed;
            color: white;
            font-weight: bold;
        }
        
        tr:nth-child(even) {
            background-color: #f9f9f9;
        }
        
        .box {
            background: #f0f4ff;
            border: 2px solid #6c3aed;
            padding: 15px;
            border-radius: 8px;
            margin: 10px 0;
        }
        
        .arrow {
            color: #6c3aed;
            font-weight: bold;
            text-align: center;
            margin: 5px 0;
        }
        
        .step {
            background: #e0e7ff;
            border-left: 4px solid #6c3aed;
            padding: 12px;
            margin: 8px 0;
            border-radius: 4px;
        }
        
        .title-page {
            display: flex;
            flex-direction: column;
            justify-content: center;
            align-items: center;
            height: 100%;
            text-align: center;
        }
        
        .title-page h1 {
            font-size: 3em;
            border: none;
            margin-bottom: 30px;
        }
        
        .title-page p {
            font-size: 1.2em;
            margin: 10px 0;
            text-align: center;
        }
        
        .subtitle {
            color: #4f46e5;
            font-size: 1.4em;
            margin: 20px 0;
        }
        
        .date {
            margin-top: 50px;
            font-size: 1.1em;
            color: #666;
        }
        
        ul, ol {
            margin-left: 20px;
            margin-bottom: 15px;
        }
        
        li {
            margin-bottom: 8px;
        }
        
        .layer-box {
            background: linear-gradient(135deg, #6c3aed 0%, #4f46e5 100%);
            color: white;
            padding: 20px;
            border-radius: 8px;
            margin: 10px 0;
            text-align: center;
            font-weight: bold;
            font-size: 1.1em;
        }
        
        .flow {
            display: flex;
            align-items: center;
            justify-content: space-around;
            margin: 20px 0;
            gap: 10px;
        }
        
        .flow-item {
            flex: 1;
            background: #e0e7ff;
            border: 2px solid #6c3aed;
            padding: 15px;
            border-radius: 8px;
            text-align: center;
            font-weight: bold;
        }
        
        .flow-arrow {
            color: #6c3aed;
            font-size: 1.5em;
            font-weight: bold;
        }
        
        .warning {
            background: #fef3c7;
            border-left: 4px solid #f59e0b;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        .success {
            background: #d1fae5;
            border-left: 4px solid #10b981;
            padding: 15px;
            margin: 15px 0;
            border-radius: 4px;
        }
        
        @media print {
            body {
                background: white;
            }
            .page {
                margin: 0;
                box-shadow: none;
                page-break-after: always;
            }
        }
        
        .two-column {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 20px;
            margin: 15px 0;
        }
        
        .column {
            padding: 15px;
            background: #f9f9f9;
            border-radius: 6px;
        }
    </style>
</head>
<body>

<!-- PAGE 1: TITLE PAGE -->
<div class="page page-break">
    <div class="title-page">
        <h1>ğŸ“š ALUR SISTEM E-ABSENSI SISWA</h1>
        <div class="subtitle">Arsitektur MVC Laravel</div>
        <p style="font-size: 1.3em; margin-top: 40px;">Route â†’ Controller â†’ Model â†’ View</p>
        
        <div class="highlight" style="margin-top: 50px;">
            <p><strong>Sekolah Digital Management System</strong></p>
            <p>Sistem Manajemen Kehadiran Siswa Berbasis Web</p>
        </div>
        
        <div class="date">
            <p><strong>Presentasi Teknis Arsitektur</strong></p>
            <p>Tanggal: 31 Desember 2025</p>
        </div>
    </div>
</div>

<!-- PAGE 2: OVERVIEW -->
<div class="page page-break">
    <h1>ğŸ¯ Ringkasan Sistem</h1>
    
    <p><strong>E-Absensi Siswa</strong> adalah sistem manajemen kehadiran siswa berbasis Laravel yang menggunakan pola <strong>MVC (Model-View-Controller)</strong>.</p>
        
    <h2>Alur Kerja Umum:</h2>
    <div class="diagram">
        USER MENGAKSES URL
        â†“
        ROUTE (web.php) mencocokkan URL
        â†“
        CONTROLLER menjalankan logika bisnis
        â†“
        MODEL berinteraksi dengan database
        â†“
        VIEW menampilkan data ke user
    </div>
    
    <h2>Komponen Utama Sistem:</h2>
    <div class="two-column">
        <div class="column">
            <h3>Backend</h3>
            <ul>
                <li><strong>Route:</strong> Pemetaan URL</li>
                <li><strong>Controller:</strong> Logika bisnis</li>
                <li><strong>Model:</strong> Database interaction</li>
                <li><strong>Migration:</strong> Schema database</li>
            </ul>
        </div>
        <div class="column">
            <h3>Frontend</h3>
            <ul>
                <li><strong>View:</strong> Template Blade</li>
                <li><strong>CSS:</strong> Tailwind CSS</li>
                <li><strong>JavaScript:</strong> Interaktivitas</li>
                <li><strong>UI/UX:</strong> AdminLTE Template</li>
            </ul>
        </div>
    </div>
</div>

<!-- PAGE 3: LAYER 1 - ROUTE -->
<div class="page page-break">
    <h1>1ï¸âƒ£ LAYER 1: ROUTE</h1>
    
    <h2>Apa itu Route?</h2>
    <p><strong>Route</strong> adalah "peta jalan" aplikasi yang menentukan URL mana yang dapat diakses, Controller mana yang menangani permintaan, dan Middleware apa yang diperlukan.</p>
    
    <h2>Contoh Route:</h2>
    <div class="code-block">
GET    /admin/teachers           â†’ TeacherController@index
GET    /admin/teachers/create    â†’ TeacherController@create
POST   /admin/teachers           â†’ TeacherController@store
GET    /admin/teachers/{id}/edit â†’ TeacherController@edit
PUT    /admin/teachers/{id}      â†’ TeacherController@update
DELETE /admin/teachers/{id}      â†’ TeacherController@destroy
    </div>
    
    <h2>Struktur Route dalam Project:</h2>
    <div class="box">
        <p><strong>1. Route Publik</strong> - Bisa diakses siapa saja</p>
        <div class="code-block" style="font-size: 0.85em;">
Route::get('/', [LandingController::class, 'index']);
        </div>
    </div>
    
    <div class="box">
        <p><strong>2. Route Protected (Auth)</strong> - Harus login</p>
        <div class="code-block" style="font-size: 0.85em;">
Route::middleware('auth')->group(function () {
    Route::get('/profile', [ProfileController::class, 'edit']);
});
        </div>
    </div>
    
    <div class="box">
        <p><strong>3. Route Admin</strong> - Harus login + role super_admin</p>
        <div class="code-block" style="font-size: 0.85em;">
Route::middleware(['auth', 'role:super_admin'])->prefix('admin')->group(function () {
    Route::resource('teachers', TeacherController::class);
});
        </div>
    </div>
</div>

<!-- PAGE 4: LAYER 2 - CONTROLLER -->
<div class="page page-break">
    <h1>2ï¸âƒ£ LAYER 2: CONTROLLER</h1>
    
    <h2>Apa itu Controller?</h2>
    <p><strong>Controller</strong> adalah "pengatur lalu lintas" yang menerima request dari route, memproses logika bisnis, berkomunikasi dengan model, dan mengirim data ke view.</p>
    
    <h2>6 Method Utama CRUD:</h2>
    <table>
        <tr>
            <th>Method</th>
            <th>HTTP</th>
            <th>URL</th>
            <th>Fungsi</th>
        </tr>
        <tr>
            <td><strong>index()</strong></td>
            <td>GET</td>
            <td>/teachers</td>
            <td>Tampilkan daftar</td>
        </tr>
        <tr>
            <td><strong>create()</strong></td>
            <td>GET</td>
            <td>/teachers/create</td>
            <td>Form tambah</td>
        </tr>
        <tr>
            <td><strong>store()</strong></td>
            <td>POST</td>
            <td>/teachers</td>
            <td>Simpan data baru</td>
        </tr>
        <tr>
            <td><strong>edit()</strong></td>
            <td>GET</td>
            <td>/teachers/{id}/edit</td>
            <td>Form edit</td>
        </tr>
        <tr>
            <td><strong>update()</strong></td>
            <td>PUT</td>
            <td>/teachers/{id}</td>
            <td>Update data</td>
        </tr>
        <tr>
            <td><strong>destroy()</strong></td>
            <td>DELETE</td>
            <td>/teachers/{id}</td>
            <td>Hapus data</td>
        </tr>
    </table>
    
    <h2>Alur Controller:</h2>
    <div class="diagram">
        1. TERIMA REQUEST
           â†“
        2. VALIDASI INPUT
           â†“
        3. PROSES LOGIKA BISNIS
           â†“
        4. SIMPAN/UPDATE DATABASE (via Model)
           â†“
        5. RETURN RESPONSE (View, Redirect, JSON)
    </div>
</div>

<!-- PAGE 5: LAYER 3 - MODEL -->
<div class="page page-break">
    <h1>3ï¸âƒ£ LAYER 3: MODEL</h1>
    
    <h2>Apa itu Model?</h2>
    <p><strong>Model</strong> adalah representasi tabel database yang mendefinisikan struktur data, mengelola relasi antar tabel, menyediakan query builder, dan melakukan validasi data.</p>
    
    <h2>Model Utama dalam Sistem:</h2>
    
    <div class="box">
        <h3>1. User Model</h3>
        <p>Mewakili pengguna: Admin, Wali Kelas, Orang Tua</p>
        <ul>
            <li>Fields: id, name, email, password, role</li>
            <li>Relasi: hasOne(HomeroomTeacher)</li>
        </ul>
    </div>
    
    <div class="box">
        <h3>2. HomeroomTeacher Model</h3>
        <p>Penghubung antara User dan Class</p>
        <ul>
            <li>Fields: id, user_id, class_id</li>
            <li>Relasi: belongsTo(User), belongsTo(ClassModel)</li>
        </ul>
    </div>
    
    <div class="box">
        <h3>3. Student Model</h3>
        <p>Data siswa</p>
        <ul>
            <li>Fields: id, nisn, nis, name, class_id, photo, barcode_data</li>
            <li>Relasi: belongsTo(ClassModel), hasMany(Absence)</li>
        </ul>
    </div>
    
    <div class="box">
        <h3>4. Absence Model</h3>
        <p>Data kehadiran siswa</p>
        <ul>
            <li>Fields: id, student_id, status, date</li>
            <li>Relasi: belongsTo(Student)</li>
        </ul>
    </div>
</div>

<!-- PAGE 6: RELASI MODEL -->
<div class="page page-break">
    <h1>Relasi Antar Model</h1>
    
    <h2>Entity Relationship Diagram:</h2>
    <div class="diagram" style="font-size: 0.9em;">
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚            users (Pengguna)             â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id | name | email | password | role     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ 1:1
                 â”‚ hasOne
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚     homeroom_teachers (Wali Kelas)      â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id | user_id | class_id                 â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                         â”‚ 1:1
                         â”‚ belongsTo
                         â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚        classes (Kelas/Ruang)            â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id | name | grade | teacher_id          â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ 1:Many
                 â”‚ hasMany
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚       students (Data Siswa)             â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id | nisn | name | class_id | photo     â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ 1:Many
                 â”‚ hasMany
                 â†“
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚    absences (Kehadiran Siswa)           â”‚
        â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
        â”‚ id | student_id | status | date         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    </div>
    
    <h2>Tipe Relasi:</h2>
    <table>
        <tr>
            <th>Tipe Relasi</th>
            <th>Contoh</th>
            <th>Penjelasan</th>
        </tr>
        <tr>
            <td>One-to-Many</td>
            <td>Class hasMany Student</td>
            <td>Satu kelas punya banyak siswa</td>
        </tr>
        <tr>
            <td>Many-to-One</td>
            <td>Student belongsTo Class</td>
            <td>Banyak siswa punya satu kelas</td>
        </tr>
        <tr>
            <td>One-to-One</td>
            <td>User hasOne HomeroomTeacher</td>
            <td>Satu user punya satu wali kelas</td>
        </tr>
    </table>
</div>

<!-- PAGE 7: LAYER 4 - VIEW -->
<div class="page page-break">
    <h1>4ï¸âƒ£ LAYER 4: VIEW</h1>
    
    <h2>Apa itu View?</h2>
    <p><strong>View</strong> adalah template HTML yang menampilkan data dari controller, menggunakan Blade templating engine, dan menerima variabel dari controller.</p>
    
    <h2>Blade Syntax Utama:</h2>
    <table>
        <tr>
            <th>Syntax</th>
            <th>Fungsi</th>
            <th>Contoh</th>
        </tr>
        <tr>
            <td>{{ }}</td>
            <td>Output variable</td>
            <td>{{ $teacher->name }}</td>
        </tr>
        <tr>
            <td>{!! !!}</td>
            <td>Output HTML</td>
            <td>{!! $content !!}</td>
        </tr>
        <tr>
            <td>@if @else</td>
            <td>Conditional</td>
            <td>@if($status) ... @endif</td>
        </tr>
        <tr>
            <td>@foreach</td>
            <td>Loop array</td>
            <td>@foreach($items as $item)</td>
        </tr>
        <tr>
            <td>@forelse</td>
            <td>Loop dengan fallback</td>
            <td>@forelse($items) ... @empty</td>
        </tr>
        <tr>
            <td>@csrf</td>
            <td>CSRF Token</td>
            <td>Keamanan form</td>
        </tr>
        <tr>
            <td>{{ route() }}</td>
            <td>Generate URL</td>
            <td>{{ route('teachers.edit', $id) }}</td>
        </tr>
    </table>
    
    <h2>Struktur View dalam Project:</h2>
    <div class="diagram">
        resources/views/
        â”œâ”€â”€ layouts/
        â”‚   â””â”€â”€ app.blade.php (Template utama)
        â”œâ”€â”€ admin/
        â”‚   â”œâ”€â”€ teachers/
        â”‚   â”‚   â”œâ”€â”€ index.blade.php
        â”‚   â”‚   â”œâ”€â”€ create.blade.php
        â”‚   â”‚   â””â”€â”€ edit.blade.php
        â”‚   â”œâ”€â”€ students/
        â”‚   â””â”€â”€ classes/
        â””â”€â”€ components/
            â””â”€â”€ (Reusable components)
    </div>
</div>

<!-- PAGE 8: CONTOH KASUS LENGKAP -->
<div class="page page-break">
    <h1>ğŸ”„ Alur Lengkap: Tambah Wali Kelas</h1>
    
    <h2>STEP 1-3: User & Route & Controller (Create)</h2>
    <div class="step">
        <strong>STEP 1:</strong> User klik button "Tambah Wali Kelas" di view index
    </div>
    <div class="step">
        <strong>STEP 2:</strong> Route GET /admin/teachers/create dicocokkan
    </div>
    <div class="step">
        <strong>STEP 3:</strong> TeacherController@create dipanggil:
        <div class="code-block" style="font-size: 0.8em; margin-top: 5px;">
public function create()
{
    $availableClasses = ClassModel::whereNotIn('id', $assignedClassIds)
                                  ->get();
    return view('admin.teachers.create', compact('availableClasses'));
}
        </div>
    </div>
    
    <h2>STEP 4-6: View & Form & User Submit</h2>
    <div class="step">
        <strong>STEP 4:</strong> View create.blade.php ditampilkan dengan data $availableClasses
    </div>
    <div class="step">
        <strong>STEP 5:</strong> Form berisi input: name, email, password, class_id
    </div>
    <div class="step">
        <strong>STEP 6:</strong> User submit form dengan data baru
    </div>
    
    <h2>STEP 7-9: Validasi & Database & Session</h2>
    <div class="step">
        <strong>STEP 7:</strong> POST /admin/teachers â†’ TeacherController@store
    </div>
    <div class="step">
        <strong>STEP 8:</strong> Validasi input: name, email (unique), password, class_id (exists & unique)
    </div>
    <div class="step">
        <strong>STEP 9:</strong> Database transaction:
        <ul style="margin: 5px 0;">
            <li>INSERT user baru ke tabel users</li>
            <li>INSERT homeroom_teacher baru (hubung user dengan class)</li>
            <li>COMMIT jika berhasil, ROLLBACK jika error</li>
        </ul>
    </div>
    
    <h2>STEP 10-11: Redirect & View Akhir</h2>
    <div class="step">
        <strong>STEP 10:</strong> Redirect ke route teachers.index dengan session success
    </div>
    <div class="step">
        <strong>STEP 11:</strong> View index.blade.php dimuat dengan data terbaru dari database. Success message muncul.
    </div>
</div>

<!-- PAGE 9: DIAGRAM ALUR KOMPLET -->
<div class="page page-break">
    <h1>ğŸ“Š Diagram Alur Komplet MVC</h1>
    
    <div class="diagram" style="font-size: 0.8em; line-height: 1.6;">
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          USER INTERFACE (Browser)               â”‚
â”‚     index.blade.php / create.blade.php          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ User klik / submit form
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚          ROUTE (routes/web.php)                 â”‚
â”‚  Cocokkan URL â†’ Controller & Method             â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Router menemukan action
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CONTROLLER (App\Http\Controllers\Admin)       â”‚
â”‚  - Validasi input                               â”‚
â”‚  - Proses logika bisnis                         â”‚
â”‚  - Query Model                                  â”‚
â”‚  - Handle error & transaksi                     â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Controller panggil Model
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      MODELS (App\Models)                        â”‚
â”‚  - User, HomeroomTeacher, ClassModel, Student   â”‚
â”‚  - Relasi antar tabel                           â”‚
â”‚  - Query builder                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Model query database
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚            DATABASE                             â”‚
â”‚  - users, homeroom_teachers, classes            â”‚
â”‚  - students, absences                           â”‚
â”‚  - (All tables with data)                       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Return data
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         CONTROLLER (Process)                    â”‚
â”‚  Transform data jika perlu                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Pass data ke View
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  VIEW (resources/views/admin/teachers/)         â”‚
â”‚  - index.blade.php (Display data)               â”‚
â”‚  - create.blade.php (Input form)                â”‚
â”‚  - edit.blade.php (Update form)                 â”‚
â”‚  - Blade directives: @foreach, @if, {{ }}      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚ Render HTML
                 â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚      RENDERED HTML (Browser)                    â”‚
â”‚      Final page displayed to user               â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
    </div>
</div>

<!-- PAGE 10: SECURITY -->
<div class="page page-break">
    <h1>ğŸ” Fitur Keamanan Sistem</h1>
    
    <div class="box">
        <h3>1. Authentication Middleware</h3>
        <div class="code-block" style="font-size: 0.85em;">
Route::middleware('auth')->group(function () {
    // Hanya user yang login bisa akses
});
        </div>
        <p style="margin-top: 10px;">Melindungi route agar hanya pengguna yang telah login bisa mengakses.</p>
    </div>
    
    <div class="box">
        <h3>2. Role-Based Authorization</h3>
        <div class="code-block" style="font-size: 0.85em;">
Route::middleware(['auth', 'role:super_admin'])->group(...)
        </div>
        <p style="margin-top: 10px;">Membatasi akses hanya untuk role tertentu (super_admin, wali_kelas, parent).</p>
    </div>
    
    <div class="box">
        <h3>3. CSRF Protection</h3>
        <div class="code-block" style="font-size: 0.85em;">
&lt;form method="POST"&gt;
    @csrf  &lt;!-- Otomatis ditambahkan --&gt;
&lt;/form&gt;
        </div>
        <p style="margin-top: 10px;">Token CSRF mencegah serangan Cross-Site Request Forgery.</p>
    </div>
    
    <div class="box">
        <h3>4. Password Hashing</h3>
        <div class="code-block" style="font-size: 0.85em;">
'password' => Hash::make($request->password)
        </div>
        <p style="margin-top: 10px;">Password di-hash menggunakan bcrypt sebelum disimpan ke database.</p>
    </div>
    
    <div class="box">
        <h3>5. Database Transaction</h3>
        <div class="code-block" style="font-size: 0.85em;">
DB::beginTransaction();
// Multiple inserts
DB::commit(); // atau rollBack() jika error
        </div>
        <p style="margin-top: 10px;">Memastikan data consistency - semua query berhasil atau semua gagal.</p>
    </div>
    
    <div class="box">
        <h3>6. Input Validation</h3>
        <div class="code-block" style="font-size: 0.85em;">
$request->validate([
    'name' => 'required|string|max:255',
    'email' => 'required|email|unique:users',
]);
        </div>
        <p style="margin-top: 10px;">Validasi input untuk memastikan data yang masuk sesuai aturan.</p>
    </div>
</div>

<!-- PAGE 11: TEKNOLOGI STACK -->
<div class="page page-break">
    <h1>ğŸ› ï¸ Technology Stack</h1>
    
    <h2>Backend Framework:</h2>
    <div class="box">
        <strong>Laravel 11 (PHP Framework)</strong>
        <p style="margin-top: 8px;">Framework web modern dengan built-in fitur authentication, routing, ORM (Eloquent), migration, dan security.</p>
    </div>
    
    <h2>Frontend Framework:</h2>
    <div class="two-column">
        <div class="column">
            <strong>Tailwind CSS</strong>
            <p>Utility-first CSS framework untuk styling responsive dan modern.</p>
        </div>
        <div class="column">
            <strong>AdminLTE</strong>
            <p>Template dashboard admin yang profesional dan user-friendly.</p>
        </div>
    </div>
    
    <h2>Database:</h2>
    <div class="box">
        <strong>SQLite / MySQL / PostgreSQL</strong>
        <p style="margin-top: 8px;">Database relasional dengan support untuk migration dan seeding.</p>
    </div>
    
    <h2>Development Tools:</h2>
    <table>
        <tr>
            <th>Tool</th>
            <th>Fungsi</th>
        </tr>
        <tr>
            <td>Composer</td>
            <td>Package manager untuk PHP</td>
        </tr>
        <tr>
            <td>Artisan CLI</td>
            <td>Command-line interface Laravel</td>
        </tr>
        <tr>
            <td>NPM / Vite</td>
            <td>Asset bundler untuk CSS & JavaScript</td>
        </tr>
        <tr>
            <td>PHPUnit</td>
            <td>Testing framework</td>
        </tr>
    </table>
    
    <h2>Sistem Operasi & Server:</h2>
    <div class="box">
        <strong>Windows (XAMPP) / Linux (Ubuntu)</strong>
        <p style="margin-top: 8px;">
            Aplikasi dapat berjalan di local development (XAMPP) atau production server (Linux).
        </p>
    </div>
</div>

<!-- PAGE 12: FLOW PERBANDINGAN OPERASI -->
<div class="page page-break">
    <h1>ğŸ“‹ Perbandingan Alur CRUD</h1>
    
    <h2>CREATE (Tambah Data):</h2>
    <div class="flow">
        <div class="flow-item">GET /create</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Show Form</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">POST /store</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Save + Redirect</div>
    </div>
    
    <h2>READ (Baca Data):</h2>
    <div class="flow">
        <div class="flow-item">GET /</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Query DB</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Display List</div>
    </div>
    
    <h2>UPDATE (Edit Data):</h2>
    <div class="flow">
        <div class="flow-item">GET /{id}/edit</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Show Form</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">PUT /{id}</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Update + Redirect</div>
    </div>
    
    <h2>DELETE (Hapus Data):</h2>
    <div class="flow">
        <div class="flow-item">Confirm</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">DELETE /{id}</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Remove DB</div>
        <div class="flow-arrow">â†’</div>
        <div class="flow-item">Redirect</div>
    </div>
    
    <h2>Perbandingan HTTP Method:</h2>
    <table>
        <tr>
            <th>Method</th>
            <th>Operasi</th>
            <th>Safe?</th>
            <th>Idempotent?</th>
        </tr>
        <tr>
            <td><strong>GET</strong></td>
            <td>Retrieve data</td>
            <td>âœ“ Ya</td>
            <td>âœ“ Ya</td>
        </tr>
        <tr>
            <td><strong>POST</strong></td>
            <td>Create data</td>
            <td>âœ— Tidak</td>
            <td>âœ— Tidak</td>
        </tr>
        <tr>
            <td><strong>PUT</strong></td>
            <td>Update data</td>
            <td>âœ— Tidak</td>
            <td>âœ“ Ya</td>
        </tr>
        <tr>
            <td><strong>DELETE</strong></td>
            <td>Delete data</td>
            <td>âœ— Tidak</td>
            <td>âœ“ Ya</td>
        </tr>
    </table>
</div>

<!-- PAGE 13: CONTOH CODE REAL -->
<div class="page page-break">
    <h1>ğŸ’» Contoh Code Real</h1>
    
    <h2>TeacherController@index (Query + View):</h2>
    <div class="code-block" style="font-size: 0.75em;">
public function index()
{
    $teachers = User::where('role', 'wali_kelas')
        ->with('homeroomTeacher.class')
        ->orderBy('name')
        ->get();
    
    return view('admin.teachers.index', compact('teachers'));
}
    </div>
    
    <h2>View: Looping Data dengan Blade:</h2>
    <div class="code-block" style="font-size: 0.75em;">
@forelse($teachers as $teacher)
    &lt;tr&gt;
        &lt;td&gt;{{ $teacher->name }}&lt;/td&gt;
        &lt;td&gt;{{ $teacher->email }}&lt;/td&gt;
        @if($teacher->homeroomTeacher)
            &lt;td&gt;{{ $teacher->homeroomTeacher->class->name }}&lt;/td&gt;
        @else
            &lt;td&gt;Belum Diampu&lt;/td&gt;
        @endif
    &lt;/tr&gt;
@empty
    &lt;tr&gt;&lt;td colspan="3"&gt;Tidak ada data&lt;/td&gt;&lt;/tr&gt;
@endforelse
    </div>
    
    <h2>Model: Relasi Eloquent:</h2>
    <div class="code-block" style="font-size: 0.75em;">
class User extends Authenticatable
{
    public function homeroomTeacher()
    {
        return $this->hasOne(HomeroomTeacher::class);
    }
}

class HomeroomTeacher extends Model
{
    public function user() { return $this->belongsTo(User::class); }
    public function class() { return $this->belongsTo(ClassModel::class); }
}
    </div>
</div>

<!-- PAGE 14: KESIMPULAN & BEST PRACTICES -->
<div class="page page-break">
    <h1>âœ¨ Kesimpulan & Best Practices</h1>
    
    <h2>Alur Kerja Sistem E-Absensi (Ringkasan):</h2>
    <div class="success">
        <p><strong style="color: #059669;">1. User</strong> mengakses URL via browser</p>
        <p><strong style="color: #059669;">2. Route</strong> mencocokkan URL dan memanggil Controller</p>
        <p><strong style="color: #059669;">3. Controller</strong> memvalidasi input dan memanggil Model</p>
        <p><strong style="color: #059669;">4. Model</strong> query database dan return data</p>
        <p><strong style="color: #059669;">5. Controller</strong> menerima data dan pass ke View</p>
        <p><strong style="color: #059669;">6. View</strong> render HTML dengan data</p>
        <p><strong style="color: #059669;">7. Browser</strong> menampilkan halaman final</p>
    </div>
    
    <h2>Best Practices Laravel:</h2>
    <ul>
        <li><strong>Separation of Concerns:</strong> Setiap layer punya tanggung jawab sendiri</li>
        <li><strong>DRY (Don't Repeat Yourself):</strong> Gunakan reusable components & functions</li>
        <li><strong>Security First:</strong> Validasi input, gunakan CSRF, hash password, authorize action</li>
        <li><strong>Error Handling:</strong> Gunakan try-catch & transaction untuk data integrity</li>
        <li><strong>Code Readability:</strong> Nama variabel & function jelas, comment penting code</li>
        <li><strong>Testing:</strong> Unit test untuk model, feature test untuk controller</li>
    </ul>
    
    <h2>Keuntungan Pola MVC:</h2>
    <table>
        <tr>
            <th>Keuntungan</th>
            <th>Penjelasan</th>
        </tr>
        <tr>
            <td>Maintainability</td>
            <td>Mudah untuk mengubah & update code</td>
        </tr>
        <tr>
            <td>Scalability</td>
            <td>Dapat diexpand tanpa refactor besar</td>
        </tr>
        <tr>
            <td>Reusability</td>
            <td>Code dapat digunakan kembali</td>
        </tr>
        <tr>
            <td>Testability</td>
            <td>Setiap layer mudah di-test</td>
        </tr>
        <tr>
            <td>Collaboration</td>
            <td>Multiple developer bisa work together</td>
        </tr>
    </table>
</div>

<!-- PAGE 15: REFERENSI & RESOURCES -->
<div class="page page-break">
    <h1>ğŸ“š Referensi & Resources</h1>
    
    <h2>Dokumentasi Resmi:</h2>
    <ul>
        <li><strong>Laravel Official:</strong> laravel.com/docs</li>
        <li><strong>Eloquent ORM:</strong> laravel.com/docs/eloquent</li>
        <li><strong>Blade Templating:</strong> laravel.com/docs/blade</li>
        <li><strong>Routing:</strong> laravel.com/docs/routing</li>
        <li><strong>Controller:</strong> laravel.com/docs/controllers</li>
    </ul>
    
    <h2>Tools & Extensions:</h2>
    <ul>
        <li><strong>Laravel Debugbar:</strong> Debug tool untuk Laravel</li>
        <li><strong>Laravel Tinker:</strong> REPL untuk interact dengan code</li>
        <li><strong>VS Code Extensions:</strong> PHP Intelephense, Laravel Extension Pack</li>
        <li><strong>Database Tools:</strong> MySQL Workbench, TablePlus, DBeaver</li>
    </ul>
    
    <h2>Struktur Folder Project:</h2>
    <div class="code-block" style="font-size: 0.8em;">
e-absensi-siswa/
â”œâ”€â”€ app/
â”‚   â”œâ”€â”€ Http/
â”‚   â”‚   â”œâ”€â”€ Controllers/  â† Business Logic
â”‚   â”‚   â””â”€â”€ Requests/     â† Form Validation
â”‚   â”œâ”€â”€ Models/           â† Database Interaction
â”‚   â””â”€â”€ Events/           â† Event Handling
â”œâ”€â”€ routes/
â”‚   â”œâ”€â”€ web.php           â† URL Mapping
â”‚   â”œâ”€â”€ api.php           â† API Routes
â”‚   â””â”€â”€ auth.php          â† Auth Routes
â”œâ”€â”€ resources/
â”‚   â””â”€â”€ views/            â† HTML Templates
â”œâ”€â”€ database/
â”‚   â”œâ”€â”€ migrations/       â† Schema
â”‚   â””â”€â”€ seeders/          â† Sample Data
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ app.php
â”‚   â”œâ”€â”€ database.php
â”‚   â””â”€â”€ auth.php
â””â”€â”€ public/               â† Static Files
    </div>
    
    <h2>Perintah Artisan Penting:</h2>
    <div class="code-block" style="font-size: 0.8em;">
php artisan serve              # Start dev server
php artisan migrate            # Run migrations
php artisan make:controller    # Create controller
php artisan make:model         # Create model
php artisan tinker             # Interactive shell
php artisan db:seed            # Seed database
php artisan cache:clear        # Clear cache
    </div>
</div>

<!-- PAGE 16: FINAL PAGE -->
<div class="page page-break">
    <div class="title-page">
        <h1 style="border: none; margin-bottom: 50px;">Terima Kasih</h1>
        
        <div style="margin: 50px 0;">
            <p style="font-size: 1.3em; margin-bottom: 20px;">Semoga penjelasan ini membantu memahami</p>
            <p style="font-size: 1.3em; margin-bottom: 20px;"><strong>Arsitektur MVC Laravel</strong></p>
            <p style="font-size: 1.3em;">dalam Sistem E-Absensi Siswa</p>
        </div>
        
        <div class="highlight" style="margin-top: 60px;">
            <p><strong>Pertanyaan?</strong></p>
            <p>Silakan bertanya tentang alur sistem atau implementasi code</p>
        </div>
        
        <div style="margin-top: 80px; border-top: 2px solid #ddd; padding-top: 30px;">
            <p><strong>E-Absensi Siswa System</strong></p>
            <p style="color: #666;">Sistem Manajemen Kehadiran Sekolah Digital</p>
            <p style="color: #999; margin-top: 15px;">Â© 2025 | Presentation Version</p>
        </div>
    </div>
</div>

</body>
</html>
